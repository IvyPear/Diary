<!DOCTYPE html>
<html lang="vi">

<meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Pastel Daily Diary</title>

    <!-- SEO Improvements -->
    <meta name="description" content="Nhật ký digital với giao diện pastel dễ thương. Lưu giữ cảm xúc, khoảnh khắc hàng ngày, theo dõi tâm trạng và tạo báo cáo hàng tháng.">
    <meta name="keywords" content="nhật ký, diary, pastel, tâm trạng, reflection, timeline">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://your-github-username.github.io/Diary/">  <!-- Update to your actual URL -->

    <!-- Performance: Preload fonts and critical assets -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@400;600;700&display=swap" as="style">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Lucide Icons (defer loading for performance) -->
    <script src="https://unpkg.com/lucide@latest" defer></script>

    <!-- Main CSS (add integrity for security if possible) -->
    <link rel="stylesheet" href="./src/style.css">

    <!-- Google Analytics (async for performance) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-986GT815VV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-986GT815VV');
    </script>
</head>

<body class="theme-mint min-h-screen pt-20">

    <!-- Theme Panel -->
    <div id="theme-panel" class="fixed top-20 right-4 z-50 bg-card p-4 rounded-card shadow-soft hidden">
        <h3 class="font-bold mb-3 text-lg">Chọn Chủ Đề</h3>
        <div class="grid grid-cols-2 gap-3">
            <button onclick="setTheme('mint')"
                class="theme-btn p-3 rounded-xl border border-gray-200 hover:bg-gray-50 transition"
                style="background-color: #AEE6E6;" aria-label="Chọn chủ đề Mint Pastel">Mint Pastel</button>
            <!-- THÊM -->
            <button onclick="setTheme('pink')"
                class="theme-btn p-3 rounded-xl border border-gray-200 hover:bg-gray-50 transition"
                style="background-color: #FFC0CB;" aria-label="Chọn chủ đề Pink Pastel">Pink Pastel</button>
            <!-- THÊM -->
            <button onclick="setTheme('lavender')"
                class="theme-btn p-3 rounded-xl border border-gray-200 hover:bg-gray-50 transition"
                style="background-color: #D8BFD8;" aria-label="Chọn chủ đề Lavender Pastel">Lavender Pastel</button>
            <!-- THÊM -->
            <button onclick="setTheme('ocean')"
                class="theme-btn p-3 rounded-xl border border-gray-200 hover:bg-gray-50 transition"
                style="background-color: #ADD8E6;" aria-label="Chọn chủ đề Ocean Soft">Ocean Soft</button> <!-- THÊM -->
            <button onclick="setTheme('night')"
                class="theme-btn p-3 rounded-xl border border-gray-200 hover:bg-gray-50 transition col-span-2 text-white"
                style="background-color: #2D3748;" aria-label="Chọn chủ đề Night Pastel">Night Pastel</button>
            <!-- THÊM -->
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 bg-card shadow-soft p-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="text-2xl font-bold text-accent">
                <i data-lucide="book-open" class="inline w-6 h-6 mr-2"></i>
                Diary for you🌿
            </div>

            <div class="flex space-x-2 md:space-x-4">
                <button class="nav-item p-2 md:px-4 flex items-center space-x-1" data-view="diary"
                    onclick="switchView('diary')" aria-label="Trang nhật ký"> <!-- THÊM -->
                    <i data-lucide="book-open" class="w-5 h-5"></i><span class="hidden md:inline"> Nhật Ký</span>
                </button>
                <button class="nav-item p-2 md:px-4 flex items-center space-x-1" data-view="timeline"
                    onclick="switchView('timeline')" aria-label="Trang dòng thời gian"> <!-- THÊM -->
                    <i data-lucide="clock" class="w-5 h-5"></i><span class="hidden md:inline"> Timeline</span>
                </button>
                <button class="nav-item p-2 md:px-4 flex items-center space-x-1" data-view="report"
                    onclick="switchView('report')" aria-label="Trang báo cáo"> <!-- THÊM -->
                    <i data-lucide="bar-chart-3" class="w-5 h-5"></i><span class="hidden md:inline"> Báo Cáo</span>
                </button>
                <button class="nav-item p-2 md:px-4 flex items-center space-x-1" data-view="reflection"
                    onclick="switchView('reflection')" aria-label="Trang suy ngẫm"> <!-- THÊM -->
                    <i data-lucide="sparkles" class="w-5 h-5"></i><span class="hidden md:inline"> Reflection</span>
                </button>
                <button class="nav-item p-2 md:px-4 flex items-center space-x-1" onclick="toggleThemePanel()"
                    aria-label="Mở bảng chọn chủ đề"> <!-- THÊM -->
                    <i data-lucide="palette" class="w-5 h-5"></i><span class="hidden md:inline"> Theme</span>
                </button>
                <button class="nav-item p-2 md:px-4 flex items-center space-x-1" onclick="exportData()"
                    aria-label="Xuất dữ liệu"> <!-- THÊM -->
                    <i data-lucide="download" class="w-5 h-5"></i><span class="hidden md:inline"> Export</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-5xl mx-auto p-4 md:p-8">

        <!-- Header with Streak Counter -->
        <div class="flex flex-col md:flex-row justify-between items-center mb-8 space-y-4 md:space-y-0">
            <div id="streak-counter"
                class="bg-button text-white px-4 py-2 rounded-[18px] font-semibold text-sm shadow-soft animate-pulse">
                🔥 0 ngày liên tiếp
            </div>
            <div class="bg-card shadow-soft rounded-[20px] p-4 text-center text-lg font-semibold card-glow"
                style="background: linear-gradient(135deg, var(--accent-light), #FFE0E6);">
                <i data-lucide="heart" class="inline w-5 h-5 mr-2"></i>
                You're enough 💗 Hôm nay bạn đã cố gắng rồi.
            </div>
        </div>

        <!-- Diary Page -->
        <div id="diary-page" class="view">
            <h1 class="text-3xl font-bold mb-6 text-center text-accent">Note to Self</h1>

            <div class="bg-card p-6 md:p-10 rounded-card shadow-soft max-w-4xl mx-auto card-glow">

                <!-- Date Header -->
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <i data-lucide="calendar" class="w-6 h-6 mr-2"></i>
                    Ngày: <span id="current-date">10/12/2025</span>
                </h2>

                <!-- Mood Selector -->
                <div class="mb-8">
                    <h3 class="text-xl font-semibold mb-3 text-soft">Tâm trạng hôm nay:</h3>
                    <div id="mood-selector" class="flex space-x-4">
                        <button class="mood-btn text-4xl p-3 rounded-full bg-accent-light hover:scale-105 transition"
                            data-mood="😊" aria-label="Tâm trạng: vui vẻ">😊</button> <!-- THÊM -->
                        <button class="mood-btn text-4xl p-3 rounded-full bg-accent-light hover:scale-105 transition"
                            data-mood="😢" aria-label="Tâm trạng: buồn bã">😢</button> <!-- THÊM -->
                        <button class="mood-btn text-4xl p-3 rounded-full bg-accent-light hover:scale-105 transition"
                            data-mood="😡" aria-label="Tâm trạng: tức giận">😡</button> <!-- THÊM -->
                        <button class="mood-btn text-4xl p-3 rounded-full bg-accent-light hover:scale-105 transition"
                            data-mood="😴" aria-label="Tâm trạng: mệt mỏi">😴</button> <!-- THÊM -->
                        <button class="mood-btn text-4xl p-3 rounded-full bg-accent-light hover:scale-105 transition"
                            data-mood="✨" aria-label="Tâm trạng: tuyệt vời">✨</button> <!-- THÊM -->
                    </div>
                </div>

                <!-- Achievements & Stress -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-3 flex items-center">
                            <i data-lucide="trophy" class="w-5 h-5 mr-2"></i>
                            Thành tựu hôm nay
                        </h3>
                        <textarea id="achievements" rows="3"
                            class="w-full rounded-input border-accent-light shadow-card focus:ring-button focus:border-button transition"
                            placeholder="  Gợi ý: Ăn đủ bữa, tập thể dục, skincare…"></textarea>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-3 flex items-center">
                            <i data-lucide="alert-triangle" class="w-5 h-5 mr-2"></i>
                            Điều làm mình căng thẳng
                        </h3>
                        <input id="stress" type="text"
                            class="w-full rounded-input border-accent-light shadow-card focus:ring-button focus:border-button transition"
                            placeholder="Chỉ 1-2 dòng thôi nhé.">
                    </div>
                </div>

                <!-- Gratitude Section -->
                <div class="bg-accent-light p-6 rounded-card shadow-card mb-8 card-glow">
                    <h3 class="text-xl font-semibold mb-3 flex items-center">
                        <i data-lucide="heart" class="w-5 h-5 mr-2"></i>
                        3 điều mình biết ơn hôm nay
                    </h3>
                    <div class="space-y-3">
                        <input id="gratitude1" type="text"
                            class="w-full rounded-input bg-card border-accent focus:ring-button focus:border-button transition"
                            placeholder="1. Điều biết ơn thứ nhất">
                        <input id="gratitude2" type="text"
                            class="w-full rounded-input bg-card border-accent focus:ring-button focus:border-button transition"
                            placeholder="2. Điều biết ơn thứ hai">
                        <input id="gratitude3" type="text"
                            class="w-full rounded-input bg-card border-accent focus:ring-button focus:border-button transition"
                            placeholder="3. Điều biết ơn thứ ba">
                    </div>
                </div>

                <!-- Self-care & Photos -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-3 flex items-center">
                            <i data-lucide="check-circle" class="w-5 h-5 mr-2"></i>
                            Self-care Checklist
                        </h3>
                        <div class="space-y-2">
                            <label class="pastel-checkbox flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="hidden" value="Uống nước đủ">
                                <span class="checkbox-icon"><i data-lucide="check" class="w-4 h-4"></i></span>
                                <span>Uống nước đủ</span>
                            </label>
                            <label class="pastel-checkbox flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="hidden" value="Skincare">
                                <span class="checkbox-icon"><i data-lucide="check" class="w-4 h-4"></i></span>
                                <span>Skincare</span>
                            </label>
                            <label class="pastel-checkbox flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="hidden" value="Nghỉ ngơi">
                                <span class="checkbox-icon"><i data-lucide="check" class="w-4 h-4"></i></span>
                                <span>Nghỉ ngơi</span>
                            </label>
                            <label class="pastel-checkbox flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="hidden" value="Thiền">
                                <span class="checkbox-icon"><i data-lucide="check" class="w-4 h-4"></i></span>
                                <span>Thiền</span>
                            </label>
                            <label class="pastel-checkbox flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="hidden" value="Tập thể dục">
                                <span class="checkbox-icon"><i data-lucide="check" class="w-4 h-4"></i></span>
                                <span>Tập thể dục</span>
                            </label>
                            <label class="pastel-checkbox flex items-center space-x-3 cursor-pointer">
                                <input type="checkbox" class="hidden" value="Dọn dẹp góc học tập">
                                <span class="checkbox-icon"><i data-lucide="check" class="w-4 h-4"></i></span>
                                <span>Dọn dẹp góc học tập</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold mb-3 flex items-center">
                            <i data-lucide="star" class="w-5 h-5 mr-2"></i>
                            Khoảnh khắc đẹp nhất hôm nay
                        </h3>
                        <input id="highlight" type="text"
                            class="w-full rounded-input border-accent-light shadow-card focus:ring-button focus:border-button transition mb-6"
                            placeholder="Một khoảnh khắc đáng nhớ">

                        <h3 class="text-xl font-semibold mb-3 flex items-center">
                            <i data-lucide="image" class="w-5 h-5 mr-2"></i>
                            Photo Journal (Tối đa 3 ảnh)
                        </h3>
                        <div class="flex space-x-2">
                            <div
                                class="w-1/3 h-20 rounded-[16px] bg-accent-light flex items-center justify-center text-soft text-sm cursor-pointer hover:bg-accent transition photo-upload">
                                <i data-lucide="plus" class="w-5 h-5 mr-1"></i> Ảnh 1
                            </div>
                            <div
                                class="w-1/3 h-20 rounded-[16px] bg-accent-light flex items-center justify-center text-soft text-sm cursor-pointer hover:bg-accent transition photo-upload">
                                <i data-lucide="plus" class="w-5 h-5 mr-1"></i> Ảnh 2
                            </div>
                            <div
                                class="w-1/3 h-20 rounded-[16px] bg-accent-light flex items-center justify-center text-soft text-sm cursor-pointer hover:bg-accent transition photo-upload">
                                <i data-lucide="plus" class="w-5 h-5 mr-1"></i> Ảnh 3
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Diary Content -->
                <div class="mb-6">
                    <h3 class="text-xl font-semibold mb-3 flex items-center">
                        <i data-lucide="pen-tool" class="w-5 h-5 mr-2"></i>
                        Nội dung nhật ký
                    </h3>
                    <textarea id="content" rows="10"
                        class="w-full rounded-input border-accent-light shadow-card focus:ring-button focus:border-button transition"
                        placeholder="Viết những suy nghĩ, cảm xúc, hoặc bất cứ điều gì bạn muốn lưu giữ."></textarea>
                    <p class="text-xs text-soft mt-1 text-right">
                        <i data-lucide="clock" class="inline w-3 h-3 mr-1"></i>
                        <span id="save-status">Đã lưu tự động</span>
                    </p>
                </div>

                <!-- Save Button -->
                <button onclick="saveDailyEntry()"
                    class="bg-button text-white w-full p-4 rounded-[24px] text-xl font-semibold shadow-soft hover:opacity-90 transition btn-pulse"
                    aria-label="Lưu nhật ký hôm nay"> <!-- THÊM -->
                    <span class="flex items-center justify-center space-x-2">
                        <i data-lucide="save" class="w-5 h-5"></i>
                        <span>Lưu nhật ký hôm nay</span>
                    </span>
                </button>
            </div>
        </div>

        <!-- Timeline Page -->
        <div id="timeline-page" class="view hidden">
            <h1 class="text-3xl font-bold mb-6 text-center text-accent">Dòng Thời Gian Kỷ Niệm</h1>

            <!-- Filters -->
            <div class="bg-card p-4 md:p-6 rounded-card shadow-soft mb-8 flex flex-wrap gap-4 items-center card-glow">
                <div class="flex-grow">
                    <div class="relative">
                        <i data-lucide="search"
                            class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"></i>
                        <input id="search-input" type="text" placeholder="     Tìm kiếm từ khóa..."
                            class="w-full pl-10 rounded-input border-accent-light shadow-sm">
                    </div>
                </div>

                <!-- Date Range (Optional) -->
                <div class="hidden md:flex space-x-3">
                    <input type="date" class="rounded-input border-accent-light shadow-sm">
                    <span class="text-soft self-center">đến</span>
                    <input type="date" class="rounded-input border-accent-light shadow-sm">
                </div>

                <!-- Mood Filter -->
                <div>
                    <select id="mood-filter" onchange="filterTimelineEntries()"
                        class="rounded-input border-accent-light shadow-sm">
                        <option value="">Lọc tâm trạng...</option>
                        <option value="😊">😊 Vui vẻ</option>
                        <option value="😢">😢 Buồn bã</option>
                        <option value="😡">😡 Tức giận</option>
                        <option value="😴">😴 Mệt mỏi</option>
                        <option value="✨">✨ Tuyệt vời</option>
                    </select>
                </div>

                <!-- Type Filter (New) -->
                <div>
                    <select id="type-filter" onchange="filterTimelineEntries()"
                        class="rounded-input border-accent-light shadow-sm">
                        <option value="">Tất cả loại</option>
                        <option value="entry">Nhật ký</option>
                        <option value="moment">Khoảnh khắc</option>
                    </select>
                </div>

                <button onclick="clearFilters()" class="text-sm text-soft hover:text-accent transition"
                    aria-label="Xóa bộ lọc"> <!-- THÊM -->
                    <i data-lucide="filter-x" class="w-4 h-4 mr-1"></i>
                    Xóa bộ lọc
                </button>
            </div>

            <!-- Loading Indicator -->
            <div id="timeline-loading" class="hidden">
                <div class="flex items-center justify-center p-8">
                    <div class="w-8 h-8 border-2 border-accent border-t-transparent rounded-full animate-spin"></div>
                    <span class="ml-3">Đang tải dữ liệu...</span>
                </div>
            </div>

            <!-- Timeline Container -->
            <div class="timeline-container max-w-2xl mx-auto">

                <!-- Add Moment Button -->
                <div class="timeline-item flex justify-center">
                    <button
                        class="bg-button text-white p-3 rounded-[24px] text-sm font-semibold shadow-soft hover:opacity-90 transition flex items-center space-x-2 btn-pulse"
                        onclick="showMomentInput()" aria-label="Thêm khoảnh khắc đáng nhớ"> <!-- THÊM -->
                        <i data-lucide="plus" class="w-4 h-4"></i>
                        <span>Thêm khoảnh khắc đáng nhớ</span>
                    </button>
                </div>

                <!-- Moment Input Form -->
                <div id="moment-input" class="bg-card p-6 rounded-card shadow-soft mb-8 hidden card-glow">
                    <h3 class="text-xl font-semibold mb-3 text-accent">Thêm Khoảnh Khắc</h3>
                    <input id="moment-name" type="text" class="w-full rounded-input border-accent-light shadow-sm mb-3"
                        placeholder="Tên khoảnh khắc (VD: Ăn tối cùng bạn bè)">
                    <textarea id="moment-desc" rows="2" class="w-full rounded-input border-accent-light shadow-sm mb-3"
                        placeholder="Mô tả ngắn gọn..."></textarea>
                    <div class="flex space-x-2">
                        <button onclick="saveMoment()"
                            class="bg-accent text-white p-3 rounded-lg font-semibold hover:bg-button transition flex items-center space-x-2"
                            aria-label="Lưu khoảnh khắc"> <!-- THÊM -->
                            <i data-lucide="save" class="w-4 h-4"></i>
                            <span>Lưu Khoảnh Khắc</span>
                        </button>
                        <button class="text-soft p-3 rounded-lg hover:bg-gray-100 transition"
                            onclick="document.getElementById('moment-input').classList.add('hidden')">
                            <i data-lucide="x" class="w-4 h-4 mr-1"></i>
                            Hủy
                        </button>
                    </div>
                </div>

                <!-- Timeline items will be dynamically loaded here -->

            </div>
        </div>

        <!-- Report Page -->
        <div id="report-page" class="view hidden">
            <h1 class="text-3xl font-bold mb-6 text-center text-accent">Báo Cáo Tâm Trạng</h1>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                <div class="bg-card p-6 rounded-card shadow-soft text-center card-glow">
                    <i data-lucide="award" class="w-8 h-8 mx-auto mb-3 text-accent"></i>
                    <p class="text-sm text-soft mb-2">Ngày tích cực nhất</p>
                    <p id="most-positive-mood" class="text-4xl">✨</p>
                    <p id="most-positive-day" class="text-xl font-bold text-accent">--/--/----</p>
                </div>
                <div class="bg-card p-6 rounded-card shadow-soft text-center card-glow">
                    <i data-lucide="trending-up" class="w-8 h-8 mx-auto mb-3 text-accent"></i>
                    <p class="text-sm text-soft mb-2">Tần suất cao nhất</p>
                    <p id="most-frequent-mood" class="text-4xl">😊</p>
                    <p id="mood-percentage" class="text-xl font-bold text-accent">0%</p>
                </div>
                <div class="bg-card p-6 rounded-card shadow-soft text-center card-glow">
                    <!-- Sửa icon stress từ alert-circle thành frown hoặc angry -->
                    <i data-lucide="frown" class="w-8 h-8 mx-auto mb-3 text-accent"></i>
                    <p class="text-sm text-soft mb-2">Ngày buồn/giận nhất</p>
                    <p id="most-stressful-mood" class="text-4xl">😡</p>
                    <p id="stressful-day" class="text-xl font-bold text-accent">--/--/----</p>
                </div>
            </div>

            <!-- Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-card p-6 rounded-card shadow-soft card-glow">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i data-lucide="bar-chart" class="w-5 h-5 mr-2"></i>
                        Biểu đồ Tâm trạng Tuần
                    </h2>
                    <div id="weekly-chart" class="w-full h-64"></div>
                </div>
                <div class="bg-card p-6 rounded-card shadow-soft card-glow">
                    <h2 class="text-xl font-semibold mb-4 flex items-center">
                        <i data-lucide="pie-chart" class="w-5 h-5 mr-2"></i>
                        Tần suất Tâm trạng Tháng
                    </h2>
                    <div id="pie-chart" class="w-full h-64 flex justify-center items-center"></div>
                </div>
            </div>

            <!-- Monthly Stats -->
            <div class="mt-8 bg-card p-6 rounded-card shadow-soft card-glow">
                <h2 class="text-xl font-semibold mb-4 flex items-center">
                    <i data-lucide="calendar" class="w-5 h-5 mr-2"></i>
                    Thống kê tháng
                </h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="text-center p-4 bg-accent-light rounded-lg">
                        <p class="text-sm text-soft">Số ngày viết</p>
                        <p id="days-written" class="text-2xl font-bold text-accent">0</p>
                    </div>
                    <div class="text-center p-4 bg-accent-light rounded-lg">
                        <p class="text-sm text-soft">Tỉ lệ tích cực</p>
                        <p id="positive-rate" class="text-2xl font-bold text-accent">0%</p>
                    </div>
                    <div class="text-center p-4 bg-accent-light rounded-lg">
                        <p class="text-sm text-soft">Checklist hoàn thành</p>
                        <p id="checklist-completed" class="text-2xl font-bold text-accent">0%</p>
                    </div>
                    <div class="text-center p-4 bg-accent-light rounded-lg">
                        <p class="text-sm text-soft">Thời gian trung bình</p>
                        <p id="avg-time" class="text-2xl font-bold text-accent">0 phút</p>
                    </div>
                </div>
            </div>

            <!-- Refresh Button -->
            <div class="mt-6 text-center">
                <button onclick="refreshReport()"
                    class="bg-accent text-white px-6 py-3 rounded-lg font-semibold hover:bg-button transition flex items-center space-x-2 mx-auto"
                    aria-label="Làm mới báo cáo"> <!-- THÊM -->
                    <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                    <span>Làm mới báo cáo</span>
                </button>
            </div>
        </div>

        <!-- Reflection Page -->
        <div id="reflection-page" class="view hidden">
            <h1 class="text-3xl font-bold mb-6 text-center text-accent">Reflection Tháng 12</h1>

            <div class="bg-card p-6 md:p-10 rounded-card shadow-soft max-w-4xl mx-auto space-y-8 card-glow">

                <!-- What I Learned -->
                <div class="p-6 rounded-xl border border-accent-light bg-accent-light/5 card-glow">
                    <h3 class="text-xl font-semibold mb-3 text-accent flex items-center">
                        <i data-lucide="lightbulb" class="w-5 h-5 mr-2"></i>
                        Bạn học được gì tháng này?
                    </h3>
                    <textarea id="learned" rows="4"
                        class="w-full rounded-input border-accent-light shadow-sm focus:ring-button focus:border-button transition"
                        placeholder="Viết những bài học quan trọng bạn đã rút ra."></textarea>
                </div>

                <!-- What I'm Proud Of -->
                <div class="p-6 rounded-xl border border-accent-light bg-accent-light/5 card-glow">
                    <h3 class="text-xl font-semibold mb-3 text-accent flex items-center">
                        <i data-lucide="trophy" class="w-5 h-5 mr-2"></i>
                        Điều bạn tự hào nhất?
                    </h3>
                    <textarea id="proud-of" rows="4"
                        class="w-full rounded-input border-accent-light shadow-sm focus:ring-button focus:border-button transition"
                        placeholder="Chia sẻ về những thành tựu đã đạt được."></textarea>
                </div>

                <!-- What to Improve -->
                <div class="p-6 rounded-xl border border-accent-light bg-accent-light/5 card-glow">
                    <h3 class="text-xl font-semibold mb-3 text-accent flex items-center">
                        <i data-lucide="target" class="w-5 h-5 mr-2"></i>
                        Điều muốn cải thiện?
                    </h3>
                    <textarea id="improvement" rows="4"
                        class="w-full rounded-input border-accent-light shadow-sm focus:ring-button focus:border-button transition"
                        placeholder="Mục tiêu cho tháng sau hoặc những điểm cần thay đổi."></textarea>
                </div>

                <!-- Save Button -->
                <button onclick="saveReflection()"
                    class="bg-button text-white w-full p-4 rounded-[24px] text-xl font-semibold shadow-soft hover:opacity-90 transition btn-pulse"
                    aria-label="Lưu suy ngẫm"> <!-- THÊM -->
                    <span class="flex items-center justify-center space-x-2">
                        <i data-lucide="save" class="w-5 h-5"></i>
                        <span>Lưu Reflection</span>
                    </span>
                </button>
            </div>
        </div>

    </main>

    <!-- Notification -->
    <div id="notification-container" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- ✅ CHỈ LOAD app.js -->
    <script type="module" src="./src/app.js"></script>

</body>
</html>